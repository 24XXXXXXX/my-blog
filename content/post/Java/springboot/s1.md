---
title: "S1"
description: "s1"
keywords: "s1"

date: 2025-11-11T13:48:44+08:00
lastmod: 2025-11-11T13:48:44+08:00

math: false
mermaid: false

categories:
  - 后端
tags:
  - Java
---
S1
<!--more-->
spring:
  application:
    name: local-test
  config:
    import: optional:file:.env[.properties]
加上 [.properties] 后，Spring Boot 会把 .env 当成标准的 properties 文件去解析并加入配置源，因此不再需要手动用 Dotenv 预加载。
原理简述：
spring.config.import: optional:file:.env 对无扩展名的文件在 3.x 下不稳定/不识别。
写成 optional:file:.env[.properties] 等价于告诉 Spring：“按 properties 规则读取 .env（即 key=value）”，所以能直接被环境读取，@Value 就能拿到。
这比手动 Dotenv + System.setProperty 更简洁，前提是 .env 内容符合 properties 格式（已满足）。
结论：在你当前写法下，删除 LocalTestApplication 里那段 Dotenv 代码也能正常读取 .env。
